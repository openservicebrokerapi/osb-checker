[![Build Status](https://travis-ci.org/openservicebrokerapi/osb-checker.svg?branch=master)](https://travis-ci.org/openservicebrokerapi/osb-checker "Travis")

# osb-checker

An automatic checker to verify an Open Service Broker API implementation against the [specification](https://github.com/openservicebrokerapi/servicebroker).

# Project Status

This project should be considered **experimental**. You should validate the results against the released [specification](https://github.com/openservicebrokerapi/servicebroker). In the case of any discrepancy, the specification should be considered correct.

# Usage

## Test
* Firstly, u need to deploy your own service broker to be tested.
* Modify the `config_mock.yaml` under test/configs folder.
* Just run `go test -v ./test/ --config-file=configs/config_mock.yaml` to start the test job.

## Mock broker
This project provides a mock broker as reference implementation for enforcing conformance test, and validated results of this mock broker should be considered more reliable compared with other 3rd party brokers.

For deploying and using this mock broker, you should execute these commands below:
```shell
make
./build/osbchecker.mockbroker --scheme=http --port=3000
```

## Generate model and mock broker
All the model and mock broker framework will be generated from [swagger.yaml](https://raw.githubusercontent.com/openservicebrokerapi/servicebroker/master/swagger.yaml) automatically. Here are some steps for developers to generate them:
* First developers should download `go-swagger` tool from [here](https://github.com/go-swagger/go-swagger/releases)
* Then run these command below:

	```shell
	cd ./autogenerated && wget https://raw.githubusercontent.com/openservicebrokerapi/servicebroker/master/swagger.yaml
	go-swagger generate model ./swagger.yaml
	go-swagger generate server
	```
